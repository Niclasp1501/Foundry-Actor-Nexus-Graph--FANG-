<div class="fang-app-container">
    <!-- Sidebar / Toolbar -->
    <aside class="sidebar glass-panel">
        <header class="sidebar-header">
            <h1>{{localize "FANG.Name"}}</h1>
            <p>{{localize "FANG.Subtitle"}}</p>
        </header>

        <div class="control-group">
            <h3>{{localize "FANG.UI.CreateConnection"}}</h3>
            <div class="input-stack">
                <select id="sourceSelect">
                    <option value="" disabled selected>{{localize "FANG.UI.SelectSource"}}</option>
                </select>
                <select id="targetSelect">
                    <option value="" disabled selected>{{localize "FANG.UI.SelectTarget"}}</option>
                </select>
                <input type="text" id="linkLabel" placeholder="{{localize 'FANG.UI.LabelPlaceholder'}}">
                <div style="display: flex; align-items: center; gap: 5px; margin-top: 5px; margin-bottom: 5px;">
                    <input type="checkbox" id="linkDirectional" style="width: auto; margin: 0;">
                    <label for="linkDirectional" style="font-size: 0.9em;">{{localize "FANG.UI.Directional"}}</label>
                </div>
                <button id="btnAddLink" class="btn secondary-btn">{{localize "FANG.UI.Connect"}}</button>
            </div>
        </div>

        <div class="control-group">
            <h3>{{localize "FANG.UI.ManageElements"}}</h3>
            <div class="input-stack">
                <select id="deleteSelect">
                    <option value="" disabled selected>{{localize "FANG.UI.SelectElement"}}</option>
                </select>
                <div style="display: flex; gap: 5px; margin-top: 5px;">
                    <button id="btnToggleCenter" class="btn action-btn" style="flex: 1;"
                        title="{{localize 'FANG.UI.ToggleCenterHint'}}">
                        <i class="fas fa-bullseye"></i> {{localize "FANG.UI.ToggleCenter"}}
                    </button>
                    <button id="btnDeleteElement" class="btn danger-btn"
                        style="flex: 1; background: #8b0000; color: white;">
                        <i class="fas fa-trash"></i> {{localize "FANG.UI.Delete"}}
                    </button>
                </div>
            </div>
        </div>

        <div class="control-group gm-only">
            <h3>{{localize "FANG.UI.Presentation"}}</h3>
            <div class="input-stack">
                <button id="btnShareGraph" class="btn action-btn" title="{{localize 'FANG.UI.ShowPlayersHint'}}">
                    <i class="fas fa-eye"></i> {{localize "FANG.UI.ShowPlayers"}}
                </button>
                <button id="btnShareGraphMonitor" class="btn action-btn" title="{{localize 'FANG.UI.ShowMonitorHint'}}"
                    style="margin-top: 5px;">
                    <i class="fas fa-tv"></i> {{localize "FANG.UI.ShowMonitor"}}
                </button>
                <button id="btnCloseGraphRemote" class="btn action-btn" title="{{localize 'FANG.UI.ClosePlayersHint'}}"
                    style="margin-top: 5px;">
                    <i class="fas fa-times-circle"></i> {{localize "FANG.UI.ClosePlayers"}}
                </button>
                <button id="btnCloseGraphMonitor" class="btn action-btn" title="{{localize 'FANG.UI.CloseMonitorHint'}}"
                    style="margin-top: 5px;">
                    <i class="fas fa-desktop"></i> {{localize "FANG.UI.CloseMonitor"}}
                </button>
            </div>
        </div>

        <div class="control-group gm-only">
            <h3>{{localize "FANG.UI.AdvancedFeatures"}}</h3>
            <div class="input-stack">
                <button id="btnOpenAdvancedSettings" class="btn action-btn">
                    <i class="fas fa-cogs"></i> {{localize "FANG.UI.AdvancedSettings"}}
                </button>
            </div>
        </div>

        <div class="control-group actions-group" style="display: none;">
            <!-- Hidden export / import group as Journal Entry storage replaces this. Kept in DOM for potential future use or debugging. -->
            <h3>Export / Import</h3>
            <div class="button-row">
                <button id="btnSave" class="btn action-btn">Speichern</button>
                <label for="importFile" class="btn action-btn file-label">Laden</label>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
        </div>
    </aside>

    <!-- Main Canvas Area -->
    <main class="canvas-container" style="position: relative;">
        <canvas id="graphCanvas"></canvas>
    </main>
    </main>
</div>